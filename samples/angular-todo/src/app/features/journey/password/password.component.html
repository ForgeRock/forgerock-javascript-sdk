<!--
angular-todo-prototype

password.component.html

Copyright (c) 2021 ForgeRock. All rights reserved.
This software may be modified and distributed under the terms
of the MIT license. See the LICENSE file for details.
-->

<div class="cstm_form-floating input-group form-floating mb-3">
  <!--
    ****************************************************************************
    * SDK INTEGRATION POINT
    * Summary: SDK callback methods for getting values
    * --------------------------------------------------------------------------
    * Details: Each callback is wrapped by the SDK to provide helper methods
    * for accessing values from the callbacks received from AM
    ****************************************************************************
  -->
  <input
    class="cstm_form-control form-control bg-transparent"
    [ngClass]="{ 'is-invalid': failureMessages.length }"
    [id]="name"
    [name]="name"
    [placeholder]="callback?.getPrompt()"
    [required]="isRequired ? 'required' : ''"
    (input)="updateValue($event)"
    [type]="isVisible ? 'text' : 'password'"
  />
  <label [for]="name">{{ callback?.getPrompt() }}</label>
  <button
    class="cstm_input-icon border-start-0 input-group-text bg-transparent"
    (click)="toggleVisibility()"
    type="button"
  >
    <app-eye-icon [visible]="isVisible"></app-eye-icon>
  </button>

  <div *ngIf="failureMessages && failureMessages.length > 0" class="invalid-feedback">
    <div *ngFor="let message of failureMessages">{{ message }}</div>
  </div>
</div>
