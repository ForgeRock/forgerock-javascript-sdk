<!--
angular-todo-prototype

text.component.html

Copyright (c) 2021 ForgeRock. All rights reserved.
This software may be modified and distributed under the terms
of the MIT license. See the LICENSE file for details.
-->

<div class="cstm_form-floating form-floating mb-3">
  <!--
    ****************************************************************************
    * SDK INTEGRATION POINT
    * Summary: SDK callback methods for getting values
    * --------------------------------------------------------------------------
    * Details: Each callback is wrapped by the SDK to provide helper methods
    * for accessing values from the callbacks received from AM
    ****************************************************************************
  -->
  <input
    class="cstm_form-control form-control bg-transparent"
    [ngClass]="{ 'is-invalid': failureMessages.length }"
    [id]="name"
    [name]="name"
    [placeholder]="callback?.getPrompt()"
    [attr.required]="isRequired || null"
    (input)="updateValue($event)"
    [type]="callback?.getOutputByName('name', undefined) === 'mail' ? 'email' : 'text'"
    [defaultValue]="callback?.getInputValue()"
  />
  <label [for]="name">{{ callback?.getPrompt() }}</label>

  <div *ngIf="failureMessages" class="invalid-feedback">
    <div *ngFor="let message of failureMessages">{{ message }}</div>
  </div>
</div>
